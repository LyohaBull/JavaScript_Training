<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <style>
    #field {
	  position: relative;
      width: 200px;
      height: 150px;
      border: 10px solid black;
      background-color: #00FF00;
      overflow: hidden;
    }
	#ball {
		position: absolute;
		top: 0px;
		left: 0px;
		transition: 1s all;
	  }
  </style>
</head>

<body style="height:2000px">

  Нажмите на поле для перемещения мяча.
  <br> Мяч не должен выходить за границы поля.


  <div id="field">
    <img src="https://ru.js.cx/clipart/ball.svg" id="ball"> . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . .
  </div>
  <script>
	  let field = document.getElementById("field");
	  let ball = document.getElementById("ball");
	  let coords = field.getBoundingClientRect();
	  function move(event){

		  let ballx = +(event.clientX-coords.x-field.clientLeft-ball.offsetWidth/2+window.pageXOffset);
		  let bally = +(event.clientY-coords.y-field.clientTop-ball.offsetHeight/2+window.pageYOffset);

	      if (ballx < (this.clientLeft-field.clientLeft+window.pageXOffset))
			  ballx = (this.clientLeft-field.clientLeft+window.pageXOffset);
		  if (ballx > (this.offsetWidth-this.clientLeft-field.clientLeft-ball.offsetWidth+window.pageXOffset)) 
			  ballx = (this.offsetWidth-this.clientLeft-field.clientLeft-ball.offsetWidth+window.pageXOffset);
	//	  ball.style.left = +(coords.x + this.clientLeft) + "px";
	//	  ball.style.top = +(coords.y + this.clientTop) + "px";
	      if (bally < (this.clientTop-field.clientTop+window.pageYOffset))
			  bally = (this.clientTop-field.clientTop+window.pageYOffset);
		  if (bally > (this.offsetHeight-this.clientTop-field.clientTop-ball.offsetHeight+window.pageYOffset))
			  bally = (this.offsetHeight-this.clientTop-field.clientTop-ball.offsetHeight+window.pageYOffset);
		  
		  ball.style.left = ballx + "px";
		  ball.style.top = bally + "px";
//		  ball.style.left = +(coords.x + this.offsetWidth-this.clientLeft-ball.offsetWidth) + "px";
//		  ball.style.top = +(coords.y + this.offsetHeight-this.clientTop-ball.offsetHeight) + "px";
	  }
	  
	  field.addEventListener("click",move);
	</script>

</body>
</html>